[ ca ]
name = CAIntermediate
default_ca = ca_default

[ ca_default ]
home = out
database = $home/index.txt
new_certs_dir = $home/certs
private_key = $home/intermediate.key
certificate = $home/intermediate.crt
copy_extensions = copy
default_days = 2000
default_md = sha256
rand_serial = yes
policy = policy_co

# 
# Policies
#

[ policy_co ]
countryName = optional
stateOrProvinceName = optional
organizationName = match
organizationalUnitName = optional
commonName = supplied
emailAddress = optional

#
# Options
#

[req]
prompt = no
distinguished_name = req_dn

[ req_dn ]
countryName = "NO"
organizationName = "KodeWorks"
commonName = "KW-intermediate-CA"

#
# Extensions
#

[ sub_ca_ext ]
basicConstraints = critical,CA:true
keyUsage = critical,keyCertSign,cRLSign
extendedKeyUsage = clientAuth,serverAuth
subjectKeyIdentifier = hash
authorityKeyIdentifier = keyid:always

[ cert_ext ]
basicConstraints = critical,CA:false
keyUsage = critical,digitalSignature,keyEncipherment
extendedKeyUsage = clientAuth,serverAuth
subjectKeyIdentifier = hash
authorityKeyIdentifier = keyid:always

